// Kratky popis
// Server: 
// Autor: mochitto
// Date: 
// Special thanks for L2.NET contributors
// rev.: 0
PRINT_TEXT "SCRIPT STARTED!]"

// Main section
// ===============================

	READ_CONFIG
PRINT_TEXT "SCRIPT STOPED!]"
END_SCRIPT

// original idea @ iosc
	FUNCTION READ_FILE 1 FILENAME
		DEFINE ARRAYLIST CONTENT 0
		DEfINE STRING LINEREADER ""
		DEFINE FILEREADER FROPEN "<&FILENAME&>"
		DO
			FROPEN.READ LINEREADER
			IF LINEREADER == "#$#!END"
				BREAK 2
			ELSE
				CONTENT.ADD "#$<&LINEREADER&>"
			ENDIF
		LOOP ONE == ONE
		FROPEN.CLOSE
	RETURN CONTENT

FUNCTION READ_CONFIG
	DEFINE ARRAYLIST TEXT
	READ_FILE TEXT 1 "#$CONF.INI"
	
	FOREACH A STRING TEXT
		IF "TEXT.A.CONTAINS #$#" != TRUE
			PRINT_TEXT "<&TEXT.A&>"
		ENDIF
	NEXTEACH
RETURN VOID